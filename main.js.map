{"version":3,"sources":["cookies.js","app.js","author.js","comments_anchor.js","country_select.js","global.js","header.js","img_align.js","pdf_icon.js","single.js"],"names":["createCookie","name","value","days","date","Date","setTime","getTime","document","cookie","encodeURI","domain","toGMTString","readCookie","nameEQ","ca","split","i","length","c","charAt","substring","indexOf","$","jQuery","ready","hover","this","parent","addClass","removeClass","click","animate","scrollTop","offset","top","nro","data","show","height","css","slideUp","window","dataLayer","push","event","toggleClass","toggle","parents","find","countries_json","JSON","parse","text","countries_html","each","index","element","attr","url","countries_sublist","append","inner_element","on","join","evt","preventDefault","stopPropagation","$button","target","Error","clickedElement","button","buttonTarget","get","contains","trigger","bind","which","width","didScroll","lastScrollTop","delta","navbarHeight","outerHeight","scroll","setInterval","st","Math","abs","hasScrolled","$slider","hasClass","left","parseInt","$searchBox","slideToggle","imgwidth","link","has","unzoom","fadeOut","html","off","imageClone","clone","appendTo","fadeIn"],"mappings":"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","file":"main.js","sourcesContent":["/* global dataLayer */\nfunction createCookie(name, value, days) {\n  var date = new Date();\n  date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n  document.cookie = encodeURI(name) + '=' + encodeURI(value) + ';domain=.' + document.domain + ';path=/;' + '; expires=' + date.toGMTString();\n}\n\nfunction readCookie(name) {\n  var nameEQ = name + '=';\n  var ca = document.cookie.split(';');\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) === ' ') {\n      c = c.substring(1, c.length);\n    }\n    if (c.indexOf(nameEQ) === 0) {\n      return c.substring(nameEQ.length, c.length);\n    }\n  }\n  return null;\n}\n\n$(document).ready(function () {\n  'use strict';\n\n  const cookie = readCookie('greenpeace');\n  const nro = $('body').data('nro');\n  if (cookie == null) {\n    $('.cookie-notice').show();\n    const height = $('.cookie-notice').height();\n    $('footer').css('margin-bottom', height + 'px');\n  } else {\n    createCookie('gp_nro', nro, 365);\n  }\n\n  $('#hidecookie').click(function () {\n    $('.cookie-notice').slideUp('slow');\n    $('footer').css('margin-bottom', '0');\n    createCookie('greenpeace', '2', 365);\n\n    // Remove the 'no_track' cookie, if user accept the cookies consent.\n    createCookie('no_track', '0', -1);\n\n    // Create cookie to store last visited nro.\n    createCookie('gp_nro', nro, 365);\n\n    // DataLayer push event on cookies consent.\n    window.dataLayer = window.dataLayer || [];\n    dataLayer.push({\n      'event' : 'cookiesConsent'\n    });\n  });\n});\n","$ = $ || jQuery; //eslint-disable-line no-global-assign\n","$(document).ready(function() {\n  'use strict';\n\n  // Underline headline on thumbnail hover.\n  $('.search-result-item-image').hover(function() {\n    $('.search-result-item-headline', $(this).parent()).addClass('search-hover');\n  }, function() {\n    $('.search-result-item-headline', $(this).parent()).removeClass('search-hover');\n  });\n});\n","// Scroll to comments\n\n$(document).ready(function() {\n  'use strict';\n\n  $('#comments-link').click(function() {\n    $('html, body').animate({\n      scrollTop: $('#comments').offset().top - 100\n    }, 2000);\n  });\n});\n","$(document).ready(function() {\n  'use strict';\n\n  $('.country-select-dropdown').click(function(){\n    $(this).parent().toggleClass('active-li');\n    $('.country-select-box').toggle();\n  });\n\n  $('.country-select-box .country-list li').click(function(){\n    $(this).parents('.country-select-box').find('li').removeClass('active');\n    $(this).addClass('active');\n  });\n\n  $('.country-selectbox').click(function(){\n    $(this).toggleClass('active');\n    $(this).parent().find('.option-contry').toggleClass('active');\n  });\n\n  // Get Countries List from <script> data block.\n  let countries_json = JSON.parse( $('#countries_script').text() );\n\n  // Build html for countries drop down list.\n  let countries_html = $(\n    '<div id=\"country-list\" class=\"country-list\">' +\n      '<a class=\"international\" href=\"\"></a>' +\n      '<ul class=\"countries_list\"></ul>' +\n    '</div>'\n  );\n\n  $.each(countries_json, function (index, element) {\n    if ( '0' === index ) {\n      $('.international', countries_html)\n        .attr( 'href', element[0].url )\n        .text( element[0].name );\n\n    } else {\n      let countries_sublist = $(\n        '<li>' +\n          '<h3 class=\"country-group-letter\">' + index + '</h3>' +\n          '<ul class=\"countries_sublist\"></ul>' +\n        '</li>'\n      );\n      $('.countries_list', countries_html).append( countries_sublist );\n\n      $.each(element, function (index, inner_element) {\n        $('.countries_sublist', countries_sublist).append(\n          '<li>' +\n            '<a href=\"' + inner_element.url + '\">' + inner_element.name + '</a>' +\n          '</li>');\n      });\n    }\n  });\n\n  $('#navbar-dropdown li').append( countries_html );\n});\n","$(document).ready(function() {\n  'use strict';\n\n  $('.page-template img, .post-content img').each( function() {\n    $(this).attr('title', $(this).attr('alt') );\n  });\n});\n","$(document).ready(function() {\n  'use strict';\n\n  $(document).on('click', [\n    '.navbar-dropdown-toggle',\n    '.country-dropdown-toggle',\n    '.navbar-search-toggle',\n  ].join(), function toggleNavDropdown(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n\n    var $button = $(this);\n    var target = $button.data('target');\n    if (!target) {\n      throw new Error('Missing `data-target` attribute: specify the container to be toggled');\n    }\n    var toggleClass = $button.data('toggle');\n    if (!toggleClass) {\n      throw new Error('Missing `data-toggle` attribute: specify the class to toggle');\n    }\n\n    // Toggle visibility of the target specified via data-target.\n    $(target).toggleClass(toggleClass);\n    $(this).toggleClass(toggleClass);\n\n    // Toggle aria-expanded attribute.\n    $button.attr('aria-expanded', function(i, attr) {\n      return attr === 'false' ? 'true' : 'false';\n    });\n  });\n\n  // Close all menus when clicking somewhere else\n  $(document).on('click', function closeInactiveMenus(evt) {\n    var clickedElement = evt.target;\n    $('button[aria-expanded=\"true\"]').each(function(i, button) {\n      var $button = $(button);\n      var buttonTarget = $($button.data('target')).get( 0 );\n      if (buttonTarget && ! $.contains(buttonTarget, clickedElement)) {\n        // Spoof a click on the open menu's toggle to close that menu.\n        $button.trigger('click');\n      }\n    });\n  });\n\n  // Close all menus on escape pressed\n  $(document).bind('keyup', function(event){\n    if (event.which === 27) {\n      $(document).trigger('click');\n    }\n  });\n\n  //Close the menu if the user clicks the dedicated dropdown close button.\n  $(document).on('click', '.close-navbar-dropdown', function (evt) {\n    evt.preventDefault();\n    // Proxy to the main navbar close button\n    $('.navbar-dropdown-toggle').trigger('click');\n  });\n\n  // Hide Header on on scroll down\n  function hasScrolled() {\n    var st = $(this).scrollTop();\n    if (Math.abs(lastScrollTop - st) <= delta) {\n      return;\n    }\n    if (st > lastScrollTop && st > navbarHeight){\n      $('.top-navigation').removeClass('nav-down').addClass('nav-up');\n    } else {\n      if(st + $(window).height() < $(document).height()) {\n        $('.top-navigation').removeClass('nav-up').addClass('nav-down');\n      }\n    }\n    lastScrollTop = st;\n  }\n\n  if($( window ).width() <= 768) {\n    var didScroll;\n    var lastScrollTop = 0;\n    var delta = 5;\n    var navbarHeight = $('.top-navigation').outerHeight();\n    $(window).scroll(function(){\n      didScroll = true;\n    });\n    setInterval(function() {\n      if (didScroll) {\n        hasScrolled();\n        didScroll = false;\n      }\n    }, 250);\n\n    var $slider = $('.mobile-menus');\n    $(document).click(function() {\n      if($('.menu').hasClass('active')){\n        //Hide the menus if visible\n        $slider.animate({\n          left: parseInt($slider.css('left'),10) == 0 ? -320 : 0\n        });\n        $('.menu').removeClass('active');\n      }\n      if($('.search-box').hasClass('active')){\n        //Hide the search if visible\n        $searchBox.slideToggle().toggleClass('active');\n      }\n    });\n\n    $('.menu').click(function() {\n      event.stopPropagation();\n      $(this).toggleClass('active');\n      $slider.animate({\n        left: parseInt($slider.css('left'),10) == -320 ? 0 : -320\n      });\n    });\n\n    var $searchBox = $('#search .search-box');\n    var $searchTrigger = $('#search-trigger');\n\n    $searchTrigger.on('click', function(event) {\n      event.stopPropagation();\n      $searchBox.slideToggle().toggleClass('active');\n    });\n  }\n});\n","$(document).ready(function() {\n  'use strict';\n\n  $('div.wp-caption[class*=\"align\"]').each( function() {\n    const imgwidth = $(this).find('img').attr('width');\n    $(this).css('cssText', 'width: ' + imgwidth +'px !important;');\n  });\n});\n","// Add pdf icon to pdf links\n\n$(document).ready(function() {\n  'use strict';\n\n  $('a[href$=\".pdf\"]').each(function() {\n    let link = $(this);\n\n    if (!(link.parent('h1, h2, h3, h4, h5, h6').length || link.has('img').length)) {\n      link.addClass('icon-link pdf-link');\n    }\n  });\n});\n","var $ = jQuery;\n\n$(document).on('ready', function() {\n  function unzoom() {\n    $('.image-zoomer').fadeOut(500, function() {\n      $('.image-zoomer-content').html('');\n    });\n  }\n\n  function zoomImage(image) {\n    var imageClone = $(image).clone();\n    $('.image-zoomer-content').html('');\n    $(imageClone).appendTo('.image-zoomer-content');\n    $('.image-zoomer').fadeIn();\n    $('.image-zoomer').off('click').on('click', unzoom);\n  }\n\n  $('.post-content img').each(function() {\n    $(this).off('click').on('click', function() {\n      zoomImage(this);\n    });\n  });\n});"]}